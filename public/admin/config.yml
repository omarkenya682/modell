backend:
  name: git-gateway
  branch: main

media_folder: "public/assets/uploads"   # where CMS saves images physically
public_folder: "/assets/uploads"        # path used in website

collections:
  - name: "site"
    label: "Site Content"
    files:

      # =====================
      # Projects
      # =====================
      - name: "projects"
        label: "Projects"
        file: "public/projects.json"
        fields:
          - label: "Projects"
            name: "projects"
            widget: "list"
            allow_add: true
            collapsed: false
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Project Name", name: "name", widget: "string" }
              - { label: "Price (KES)", name: "price", widget: "number" }
              - { label: "Deposit (KES)", name: "deposit", widget: "number" }
              - { label: "Location", name: "location", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Image"
                name: "image"
                widget: "image"
                required: true
                media_library:
                  name: "file_system"
                  config:
                    allow_multiple: false
                    folder: "public/assets/uploads"
                    public_folder: "/assets/uploads"

      # =====================
      # Testimonials
      # =====================
      - name: "testimonials"
        label: "Testimonials"
        file: "public/testimonials.json"
        fields:
          - label: "Testimonials"
            name: "testimonials"
            widget: "list"
            allow_add: true
            collapsed: false
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Role", name: "role", widget: "string" }
              - { label: "Project", name: "project", widget: "string" }
              - { label: "Quote", name: "quote", widget: "text" }
              - label: "Image"
                name: "image"
                widget: "image"
                required: true
                media_library:
                  name: "file_system"
                  config:
                    allow_multiple: false
                    folder: "public/assets/uploads"
                    public_folder: "/assets/uploads"
              - { label: "Stars", name: "stars", widget: "number", min: 1, max: 5, default: 5 }

      # =====================
      # Site Settings
      # =====================
      - name: "settings"
        label: "Site Settings"
        file: "public/settings.json"
        fields:

          # FIXED: Hero Images (UPLOAD, NOT PASTE LINK)
          - label: "Hero Images"
            name: "heroImages"
            widget: "list"
            required: false
            field:
              label: "Hero Image"
              name: "image"
              widget: "image"
              media_library:
                name: "file_system"
                config:
                  folder: "public/assets/uploads"
                  public_folder: "/assets/uploads"

          # UNCHANGED: Testimonial Videos (already working)
          - label: "Testimonial Videos"
            name: "testimonialVideos"
            widget: "list"
            fields:
              - { label: "Video URL (Embed)", name: "url", widget: "string", required: true }
              - { label: "Show Video", name: "show", widget: "boolean", default: true }
